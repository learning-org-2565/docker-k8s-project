apiVersion: v1
kind: Pod
metadata:
  name: shared-volume-pod
spec:
  
  # Shared volume definition
  volumes:
  - name: shared-logs
    emptyDir: {}
  
  containers:
  
  # Main container - writes logs
  - name: log-writer
    image: busybox
    command: ['sh', '-c', 'while true; do echo "$(date) - Log from writer" >> /var/log/app.log; sleep 2; done']
    volumeMounts:
    - name: shared-logs
      mountPath: /var/log
  
  # Sidecar container - reads logs
  - name: log-reader
    image: busybox
    command: ['sh', '-c', 'sleep 5; tail -f /var/log/app.log']
    volumeMounts:
    - name: shared-logs
      mountPath: /var/log